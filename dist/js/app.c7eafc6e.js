(function(t){function e(e){for(var s,i,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],n[i]&&f.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],s=!0,o=1;o<r.length;o++){var c=r[o];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var s={},n={app:0},a=[];function i(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=s,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(r,s,function(e){return t[e]}.bind(null,s));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"2ce4":function(t,e,r){t.exports=r.p+"img/redditLogo.6111e3c2.png"},4678:function(t,e,r){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=a(t);return r(e)}function a(t){var e=s[t];if(!(e+1)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return e}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="4678"},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var s=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[t.isLoginPage?t._e():r("deviget-navbar"),r("v-content",[r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1),r("v-footer",{attrs:{app:""}},[r("v-spacer"),r("div",[t._v("Belen Dominguez Work Trial; "+t._s((new Date).getFullYear()))])],1)],1)},a=[],i=(r("7f7f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-navigation-drawer",{attrs:{app:"",permanent:"","expand-on-hover":t.expandOnHover,bottom:"",absolute:""}},[s("v-list",{staticClass:"py-0",attrs:{dense:"",nav:""}},[s("v-list-item",{attrs:{"two-line":""}},[s("v-list-item-avatar",[s("img",{attrs:{src:r("cf05"),alt:"Deviget Logo"}})]),s("v-list-item-content",[s("v-list-item-title",[t._v("Belen Dominguez")]),s("v-list-item-subtitle",[t._v("Work trial")])],1)],1),s("v-divider"),s("v-list-item",{on:{click:t.navigateToPosts}},[s("v-list-item-icon",[s("v-icon",[t._v("mdi-file-document")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v("Posts")])],1)],1),s("v-list-item",{on:{click:t.navigateToGallery}},[s("v-list-item-icon",[s("v-icon",[t._v("mdi-image")])],1),s("v-list-item-content",[s("v-list-item-title",[t._v("My Gallery")])],1)],1)],1)],1)}),o=[],c={name:"DevigetNavbar",data:function(){return{expandOnHover:!0}},methods:{navigateToGallery:function(){this.$router.push("/gallery")},navigateToPosts:function(){this.$router.push("/")}}},l=c,u=r("2877"),d=r("6544"),f=r.n(d),p=r("ce7e"),v=r("132d"),m=r("8860"),h=r("da13"),b=r("8270"),g=r("5d23"),j=r("34c3"),y=r("f774"),P=Object(u["a"])(l,i,o,!1,null,null,null),O=P.exports;f()(P,{VDivider:p["a"],VIcon:v["a"],VList:m["a"],VListItem:h["a"],VListItemAvatar:b["a"],VListItemContent:g["a"],VListItemIcon:j["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VNavigationDrawer:y["a"]});var _={name:"App",components:{DevigetNavbar:O},computed:{isLoginPage:function(){return"login-home"===this.$route.name||"login-callback"===this.$route.name}}},k=_,V=r("7496"),S=r("a523"),w=r("a75b"),T=r("553a"),x=r("2fa4"),A=Object(u["a"])(k,n,a,!1,null,null,null),C=A.exports;f()(A,{VApp:V["a"],VContainer:S["a"],VContent:w["a"],VFooter:T["a"],VSpacer:x["a"]});var D=r("8c4f"),I=r("c1df"),L="access_token",E="refresh_token",z="token_expires_at",G={getToken:function(){return localStorage.getItem(L)},saveToken:function(t){localStorage.setItem(L,t)},removeToken:function(){localStorage.removeItem(L)},getRefreshToken:function(){return localStorage.getItem(E)},saveRefreshToken:function(t){localStorage.setItem(E,t)},removeRefreshToken:function(){localStorage.removeItem(E)},getTokenExpiracy:function(){return I(localStorage.getItem(z))},saveTokenExpiracy:function(t){var e="ddd, DD MMM YYYY HH:mm:ss ZZ",r=I();r.add(t,"seconds"),localStorage.setItem(z,r.format(e))},removeTokenExpiracy:function(){localStorage.remove(z)}},B=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),$=r("bc3a"),R=r.n($);function N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?N(r,!0).forEach(function(e){Object(B["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}R.a.interceptors.response.use(function(t){return t.data},function(t){if(t.response)return Promise.reject(t)});var F={get:function(t,e){return R()(U({method:"get",url:t},e))},post:function(t,e,r){return R()(U({method:"post",url:t,data:e},r))},put:function(t,e,r){return R()(U({method:"put",url:t,data:e},r))},delete:function(t,e){return R()(U({method:"delete",url:t},e))}},H={BASE_URL:"https://www.reddit.com/api/v1/",AUTHORIZE:"authorize",ACCESS_TOKEN:"access_token/",POSTS_BASE_URL:"https://oauth.reddit.com/r/",POSTS_TOP:"top"},M=function(){var t="3Dqq5YHfgQcZ7g",e="https://deviget-worktrial.herokuapp.com/login-callback";return H.BASE_URL+H.AUTHORIZE+"?client_id="+t+"&response_type=code&state=bDominguezWorkTrial&redirect_uri="+e+"&duration=permanent&scope=read"},J=function(){return{headers:{Authorization:"Basic"},auth:{username:"3Dqq5YHfgQcZ7g",password:"E9lSzAVK_YXeNDVyJcdLi1iCRZ4"}}},Y=function(t){var e=J(),r=new FormData;return r.append("grant_type","authorization_code"),r.append("code",t),r.append("redirect_uri","https://deviget-worktrial.herokuapp.com/login-callback"),F.post(H.BASE_URL+H.ACCESS_TOKEN,r,e)},q=function(t){var e=J(),r=new FormData;return r.append("grant_type","refresh_token"),r.append("refresh_token",t),F.post(H.BASE_URL+H.ACCESS_TOKEN,r,e)},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"earthporn",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=G.getToken(),a={headers:{Authorization:"bearer "+n}},i=H.POSTS_BASE_URL+t+"/"+H.POSTS_TOP+"?limit="+e;return s&&(i=i+"&after="+s),r&&(i=i+"&before="+r),F.get(i,a)},W={generateToken:Y,getTopPosts:Z,refreshToken:q,retrieveAccessURI:M},K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home"}},[r("posts")],1)},Q=[],X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","grid-list-md":"","pa-2":""}},[r("v-layout",[r("v-flex",{attrs:{x12:"",sm4:""}},[r("side-bar",{attrs:{"open-post":t.selectPost}})],1),r("v-flex",{attrs:{"hidden-sm-and-down":"",md8:""}},[t.hasPostSelected?r("post",{attrs:{post:t.postSelected}}):t._e()],1)],1)],1)},tt=[],et=r("2f62"),rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","grid-list-md":"","pa-2":""}},[r("v-card",[r("v-img",{attrs:{"lazy-src":t.post.thumbnail,src:t.post.picture}}),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(t.post.title))]),r("v-list-item-subtitle",[t._v("by "+t._s(t.post.author)+" –\n          "+t._s(t._f("moment")(t.post.entryDate,"from","now")))])],1)],1),r("v-card-actions",[t.post.visited?r("v-icon",[t._v("mdi-eye-check")]):r("v-icon",[t._v("mdi-eye")]),t._v("\n       \n      "+t._s(t.post.numberOfComments)+" "),r("v-icon",[t._v("mdi-comment")]),r("v-spacer"),r("v-btn",{attrs:{icon:"",disabled:t.post.savedToGallery},on:{click:t.saveToGallery}},[r("v-icon",[t._v("mdi-bookmark")])],1),r("v-btn",{attrs:{icon:"",disabled:t.post.archived},on:{click:t.archive}},[r("v-icon",[t._v("mdi-archive")])],1)],1)],1)],1)},st=[],nt=(r("6762"),r("2fdb"),"archived_posts"),at={getPostsArchived:function(){var t=localStorage.getItem(nt);return t?JSON.parse(t):t},saveArchivedPosts:function(t){var e=JSON.stringify(t);localStorage.setItem(nt,e)},isPostArchived:function(t){var e=this.getPostsArchived();return!!(e&&e.length>0)&&e.includes(t)}},it="gallery",ot={getGallery:function(){var t=localStorage.getItem(it);return t?JSON.parse(t):[]},setGallery:function(t){var e=JSON.stringify(t);localStorage.setItem(it,e)},isPictureSaved:function(t){var e=this.getGallery();if(e.length>0){var r=e.filter(function(e){return e.postId===t});return r.length>0}return!1}},ct=r("d225"),lt=function t(e,r,s){Object(ct["a"])(this,t),this.postId=e,this.thumbnail=r,this.url=s};function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(r,!0).forEach(function(e){Object(B["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ft={name:"Post",props:{post:Object},computed:dt({},Object(et["c"])("Posts",["postsArchived"]),{},Object(et["c"])("Gallery",["pictures"])),methods:dt({},Object(et["d"])("Posts",["archivePost","flagPostAsArchived","savePostToGallery"]),{},Object(et["d"])("Gallery",["addPicture"]),{archive:function(){this.post.archived||(this.archivePost(this.post.id),this.flagPostAsArchived(this.post),at.saveArchivedPosts(this.postsArchived))},saveToGallery:function(){if(!this.post.savedToGallery){this.savePostToGallery(this.post);var t=new lt(this.post.id,this.post.thumbnail,this.post.picture);this.addPicture(t),ot.setGallery(this.pictures)}}})},pt=ft,vt=r("8336"),mt=r("b0af"),ht=r("99d9"),bt=r("adda"),gt=Object(u["a"])(pt,rt,st,!1,null,"4e9bdeb7",null),jt=gt.exports;f()(gt,{VBtn:vt["a"],VCard:mt["a"],VCardActions:ht["a"],VContainer:S["a"],VIcon:v["a"],VImg:bt["a"],VListItem:h["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VSpacer:x["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","grid-list-md":""}},[r("v-data-iterator",{attrs:{loading:t.isLoading,items:t.posts,"items-per-page":t.itemsPerPage,page:t.page,search:t.search,"sort-by":t.sortBy.toLowerCase(),"sort-desc":t.sortDesc,"hide-default-footer":""},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"header",fn:function(){return[r("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[r("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-search",label:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"default",fn:function(e){return[r("v-layout",{attrs:{column:""}},t._l(e.items,function(e){return r("v-flex",{key:e.name,attrs:{xs12:""}},[r("v-card",{on:{click:function(r){return t.selectPost(e)}}},[r("v-list-item",{attrs:{"three-line":""}},[r("v-list-item-content",{staticClass:"align-self-start"},[r("v-list-item-title",[t._v(t._s(e.title))]),r("v-list-item-subtitle",[t._v("\n                  By "+t._s(e.author)+" - Created\n                  "+t._s(t._f("moment")(e.entryDate,"from","now"))+"\n                ")]),r("v-list-item-subtitle",[e.visited?r("v-icon",{attrs:{small:""}},[t._v("mdi-eye-check")]):r("v-icon",{attrs:{small:""}},[t._v("mdi-eye")]),e.savedToGallery?r("v-icon",{attrs:{small:""}},[t._v("mdi-bookmark-check")]):r("v-icon",{attrs:{small:""}},[t._v("mdi-bookmark")]),t._v("\n                  "+t._s(e.numberOfComments)+"\n                  "),r("v-icon",{attrs:{small:""}},[t._v("mdi-comment")]),e.archived?r("v-icon",{attrs:{small:""}},[t._v("mdi-package-up")]):r("v-icon",{attrs:{small:""}},[t._v("mdi-archive")])],1)],1),e.hasThumbnail()?r("v-list-item-avatar",{attrs:{size:"125",tile:""}},[r("v-img",{attrs:{src:e.thumbnail}})],1):t._e()],1)],1)],1)}),1)]}},{key:"footer",fn:function(){return[r("v-layout",{attrs:{"mt-2":"",wrap:"","align-center":"","justify-center":""}},[r("v-spacer"),r("v-btn",{staticClass:"mr-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.formerPage}},[r("v-icon",[t._v("mdi-arrow-left-bold")])],1),r("v-btn",{staticClass:"ml-1",attrs:{fab:"",dark:"",color:"blue darken-3"},on:{click:t.nextPage}},[r("v-icon",[t._v("mdi-arrow-right-bold")])],1)],1)]},proxy:!0}])})],1)},Pt=[],Ot="posts_visited",_t={getPostsVisited:function(){var t=localStorage.getItem(Ot);return t?JSON.parse(t):t},setPostsVisited:function(t){var e=JSON.stringify(t);localStorage.setItem(Ot,e)},isPostVisited:function(t){var e=this.getPostsVisited();return!!(e&&e.length>0)&&e.includes(t)}};function kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kt(r,!0).forEach(function(e){Object(B["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var St={name:"SideBar",props:{openPost:Function},data:function(){return{search:"",sortDesc:!1,page:1,itemsPerPage:5,sortBy:"name",isLoading:!1}},computed:Vt({},Object(et["c"])("Posts",["posts","afterPosts","beforePosts","postsVisited"]),{numberOfPages:function(){return Math.ceil(this.posts.length/this.itemsPerPage)}}),methods:Vt({},Object(et["d"])("Posts",["addPostVisited","flagPostAsVisited"]),{},Object(et["b"])("Posts",["getPosts"]),{nextPage:function(){var t=this;this.page+1<=this.numberOfPages?this.page+=1:this.afterPosts&&(this.isLoading=!0,this.getPosts({after:this.afterPosts}).finally(function(){t.page+=1,t.isLoading=!1}))},formerPage:function(){this.page-1>=1&&(this.page-=1)},selectPost:function(t){this.postsVisited.includes(t.id)||(this.flagPostAsVisited(t),this.addPostVisited(t.id),_t.setPostsVisited(this.postsVisited)),this.openPost(t)}}),mounted:function(){var t=this;this.isLoading=!0,this.getPosts().finally(function(){t.isLoading=!1})}},wt=St,Tt=r("c377"),xt=r("0e8f"),At=r("a722"),Ct=r("8654"),Dt=r("71d9"),It=Object(u["a"])(wt,yt,Pt,!1,null,null,null),Lt=It.exports;function Et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Et(r,!0).forEach(function(e){Object(B["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Et(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}f()(It,{VBtn:vt["a"],VCard:mt["a"],VContainer:S["a"],VDataIterator:Tt["a"],VFlex:xt["a"],VIcon:v["a"],VImg:bt["a"],VLayout:At["a"],VListItem:h["a"],VListItemAvatar:b["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"],VSpacer:x["a"],VTextField:Ct["a"],VToolbar:Dt["a"]});var Gt={name:"Posts",components:{Post:jt,SideBar:Lt},data:function(){return{postSelected:void 0}},computed:zt({},Object(et["c"])("Posts",["posts"]),{hasPostSelected:function(){return!!this.postSelected}}),methods:{selectPost:function(t){this.postSelected=t}}},Bt=Gt,$t=Object(u["a"])(Bt,X,tt,!1,null,"53ad306a",null),Rt=$t.exports;f()($t,{VContainer:S["a"],VFlex:xt["a"],VLayout:At["a"]});var Nt={name:"Home",components:{Posts:Rt}},Ut=Nt,Ft=Object(u["a"])(Ut,K,Q,!1,null,null,null),Ht=Ft.exports,Mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{id:"login-view","fill-height":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:"","align-self-center":""}},[r("router-view")],1)],1)},Jt=[],Yt={name:"Login"},qt=Yt,Zt=Object(u["a"])(qt,Mt,Jt,!1,null,null,null),Wt=Zt.exports;f()(Zt,{VFlex:xt["a"],VLayout:At["a"]});var Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[s("v-img",{staticClass:"white--text",attrs:{height:"200px",src:r("2ce4")}}),s("v-card-title",{staticClass:"align-end fill-height"},[t._v("Grant access to Reddit")]),s("v-card-text",[t._v("In order for this application to work you must grant access")]),s("v-card-actions",[s("v-btn",{attrs:{outlined:"",block:"",color:"red darken-1"},on:{click:t.grantAccess}},[t._v("Grant access")])],1)],1)},Qt=[],Xt={name:"LoginHome",methods:{grantAccess:function(){window.location=W.retrieveAccessURI()}}},te=Xt,ee=Object(u["a"])(te,Kt,Qt,!1,null,null,null),re=ee.exports;f()(ee,{VBtn:vt["a"],VCard:mt["a"],VCardActions:ht["a"],VCardText:ht["b"],VCardTitle:ht["c"],VImg:bt["a"]});var se=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-center",attrs:{id:"login-callback"}},[r("v-progress-circular",{attrs:{size:50,indeterminate:"",rotate:"",color:"light-blue"}})],1)},ne=[],ae={name:"LoginCallback",mounted:function(){var t=this,e=this.$route.query;e.code?W.generateToken(e.code).then(function(e){G.saveToken(e.access_token),G.saveRefreshToken(e.refresh_token),G.saveTokenExpiracy(e.expires_in),t.$router.push("/")}).catch(function(){t.$router.push("/login")}):this.$router.push("/login")}},ie=ae,oe=r("490a"),ce=Object(u["a"])(ie,se,ne,!1,null,null,null),le=ce.exports;f()(ce,{VProgressCircular:oe["a"]});var ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",[r("v-flex",{attrs:{xs12:"",sm12:""}},[r("v-card",[r("v-container",{attrs:{"grid-list-sm":"",fluid:""}},[t.hasPictures?r("v-layout",{attrs:{wrap:""}},t._l(t.pictures,function(e,s){return r("v-flex",{key:s,attrs:{xs12:"",sm4:"","d-flex":"","child-flex":""}},[r("v-card",{staticClass:"d-flex",attrs:{flat:"",tile:""}},[r("v-img",{staticClass:"grey lighten-2",attrs:{src:e.url,"lazy-src":e.thumbnail,"aspect-ratio":"1"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[r("v-layout",{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[r("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)],1)}),1):r("v-layout",[r("v-flex",{staticClass:"text-center"},[r("v-btn",{on:{click:t.navigateToPosts}},[t._v("Go to your posts and add pictures")])],1)],1)],1)],1)],1)],1)},de=[];function fe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,s)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fe(r,!0).forEach(function(e){Object(B["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fe(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var ve={name:"Gallery",computed:pe({},Object(et["c"])("Gallery",["pictures"]),{hasPictures:function(){return this.pictures.length>0}}),methods:pe({},Object(et["d"])("Gallery",["setPictures"]),{navigateToPosts:function(){this.$router.push("/")}}),mounted:function(){var t=ot.getGallery();this.setPictures(t)}},me=ve,he=Object(u["a"])(me,ue,de,!1,null,"215041ee",null),be=he.exports;f()(he,{VBtn:vt["a"],VCard:mt["a"],VContainer:S["a"],VFlex:xt["a"],VImg:bt["a"],VLayout:At["a"],VProgressCircular:oe["a"]});var ge=r("c1df");s["a"].use(D["a"]);var je=new D["a"]({mode:"history",routes:[{path:"/",name:"home",component:Ht,meta:{public:!1}},{path:"/gallery",name:"gallery",component:be,meta:{public:!0}},{path:"/login",component:Wt,meta:{public:!0,onlyWhenLoggedOut:!0},children:[{path:"",name:"login-home",component:re},{path:"/login-callback",name:"login-callback",component:le}]}]});je.beforeEach(function(t,e,r){return new Promise(function(e){var s=t.matched.some(function(t){return t.meta.public}),n=t.matched.some(function(t){return t.meta.onlyWhenLoggedOut}),a=!!G.getToken();s||a||(r({path:"/login"}),e()),a&&n&&(r("/"),e());var i=G.getTokenExpiracy();if(ge().isAfter(i)){var o=G.getRefreshToken();W.refreshToken(o).then(function(t){G.saveToken(t.access_token),G.saveTokenExpiracy(t.expires_in),r(),e()}).catch(function(){r("/login"),e()})}r(),e()})});var ye=je,Pe={namespaced:!0,state:{layoutSplitActive:!1},getters:{layoutSplitActive:function(t){return t.layoutSplitActive}},mutations:{setLayoutSplit:function(t,e){t.layoutSplitActive=e}},actions:{}},Oe=r("b0b4"),_e=function(){function t(e,r,s,n,a,i,o,c,l,u){Object(ct["a"])(this,t),this._id=e,this._title=r,this._author=s,this._entryDate=n,this._numberOfComments=a,this._thumbnail=i,this._picture=o,this._archived=c,this._visited=l,this._savedToGallery=u}return Object(Oe["a"])(t,[{key:"hasThumbnail",value:function(){return!!this.thumbnail}},{key:"id",get:function(){return this._id}},{key:"title",get:function(){return this._title}},{key:"author",get:function(){return this._author}},{key:"entryDate",get:function(){return this._entryDate}},{key:"numberOfComments",get:function(){return this._numberOfComments}},{key:"thumbnail",get:function(){return this._thumbnail}},{key:"picture",get:function(){return this._picture}},{key:"archived",get:function(){return this._archived},set:function(t){this._archived=t}},{key:"visited",get:function(){return this._visited},set:function(t){this._visited=t}},{key:"savedToGallery",get:function(){return this._savedToGallery},set:function(t){this._savedToGallery=t}}]),t}(),ke={namespaced:!0,state:{posts:[],after:void 0,before:void 0,subrredit:"earthporn",postsVisited:void 0,postsArchived:void 0,limit:5},getters:{posts:function(t){return t.posts},afterPosts:function(t){return t.after},beforePosts:function(t){return t.before},postsVisited:function(t){return t.postsVisited},postsArchived:function(t){return t.postsArchived}},mutations:{addPostVisited:function(t,e){t.postsVisited.push(e)},setPostsVisited:function(t,e){t.postsVisited=e||[]},archivePost:function(t,e){t.postsArchived.push(e)},setPostsArchived:function(t,e){t.postsArchived=e},setPosts:function(t,e){t.posts=t.posts.concat(e)},setAfterPosts:function(t,e){t.after=e},setBeforePosts:function(t,e){t.before=e},flagPostAsVisited:function(t,e){e.visited=!0},flagPostAsArchived:function(t,e){e.archived=!0},savePostToGallery:function(t,e){e.savedToGallery=!0}},actions:{getPosts:function(t){var e=t.state,r=t.commit,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{before:void 0,after:void 0};W.getTopPosts(e.subrredit,e.limit,s.before,s.after).then(function(t){if(t.data.children.length>0){var e=_t.getPostsVisited()||[];r("setPostsVisited",e);var s=at.getPostsArchived()||[];r("setPostsArchived",s);var n=t.data.children.map(function(t){var e=t.data,r=_t.isPostVisited(e.id),s=at.isPostArchived(e.id),n=ot.isPictureSaved(e.id);return new _e(e.id,e.title,e["author_fullname"],e.created,e["num_comments"],e.thumbnail,e.url,s,r,n)});r("setPosts",n)}return r("setAfterPosts",t.data.after),r("setBeforePosts",t.data.before),t}).catch(function(t){return t})}}},Ve={namespaced:!0,state:{pictures:[]},getters:{pictures:function(t){return t.pictures}},mutations:{setPictures:function(t,e){t.pictures=e},addPicture:function(t,e){t.pictures.push(e)}}};s["a"].use(et["a"]);var Se=new et["a"].Store({strict:!1,modules:{Application:Pe,Posts:ke,Gallery:Ve}}),we=r("f309");s["a"].use(we["a"]);var Te=new we["a"]({icons:{iconfont:"mdi"}});s["a"].config.productionTip=!1,s["a"].use(r("2ead")),new s["a"]({router:ye,store:Se,vuetify:Te,render:function(t){return t(C)}}).$mount("#app")},cf05:function(t,e,r){t.exports=r.p+"img/logo.76e52ab7.png"}});
//# sourceMappingURL=app.c7eafc6e.js.map